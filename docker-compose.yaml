services:
  teamspeak:
    image: teamspeaksystems/teamspeak6-server:latest
    container_name: teamspeak-server
    restart: unless-stopped
    ports:
      - "9987:9987/udp"    # Voice
      - "30033:30033/tcp"  # File transfer
    environment:
      - TSSERVER_LICENSE_ACCEPTED=accept
      - TSSERVER_DEFAULT_PORT=9987
      - TSSERVER_VOICE_IP=0.0.0.0
      - TSSERVER_FILE_TRANSFER_PORT=30033
      - TSSERVER_FILE_TRANSFER_IP=0.0.0.0
    volumes:
      - teamspeak-data:/var/tsserver

  soundboard:
    build: ./soundboard-server
    container_name: ts-soundboard
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - soundboard-data:/app/data

volumes:
  teamspeak-data:
    name: teamspeak-data
  soundboard-data:
    name: soundboard-data
